# Render blueprint for deploying frontend (static site) and backend (web service)
# Frontend: build with `npm run build` and publish the `dist` folder
# Backend: start with `npm start` which runs `node server/index.js`

services:
  - type: web_service
    name: sknbridgetrade-server
    env: node
    plan: free
    region: oregon
    repo: .
    buildCommand: "npm install && npm run build"
    startCommand: "npm start"
    branch: main

  - type: static_site
    name: sknbridgetrade-frontend
    env: static
    plan: free
    region: oregon
    repo: .
    buildCommand: "npm install && npm run build"
    publishPath: "dist"
    branch: main
    envVars:
      - key: VITE_SUPABASE_URL
        value: YOUR_SUPABASE_URL
      - key: VITE_SUPABASE_ANON_KEY
        value: YOUR_SUPABASE_ANON_KEY
      - key: VITE_API_URL
        value: https://sknbridgetrade-server.onrender.com
